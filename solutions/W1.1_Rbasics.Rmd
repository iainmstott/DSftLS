---
title: "BGY2010M W1.1 R basics"
output:
  rmarkdown::html_document:
    theme: cosmo
---
<!-- rmarkdown::render("C:/Dropbox/Work/teaching/2019-20/BGY2010M Ecological Statistical Techniques/Worksheets/W1.1_Rbasics.Rmd") -->

***
### **< WORKSHOP >** R Basics
***
\

During this week's workshop, we're going to build a data frame of made-up data, similar to what was done in the first Chapter of the workbook. This will involve:

* creating random numeric vectors
* creating factor vectors
* creating character vectors
* building a data frame from existing vectors in R
* selecting parts of a data frame using `base R` methods

We will cover quick, basic plots in `base R`, including:

* histograms 
* boxplots
* barplots
* scatter plots

Finally, we will read in the data that we'll be using for the rest of these online sessions, which are saved as csv files. If you're not sure which one you're supposed to be using, check the DATA page of this workbook.  

You won't have encountered absolutely everything you need to do during the at-home study. To mention it again, a really important part of data skills and coding is being able to find answers to question and solutions to probelms yourselves, using whatever resources you have to hand, but especially the internet.  
\

##### **R BASICS: EXERCISES & QUESTIONS**
\

1. First create a character object called `names` which is the first name of the people in your tutor group (including anyone who is missing). If there are two people in your group with the same name, then give each a number (i.e. `Jane1`, `Jane2`,... )

```{r names, eval = FALSE}
names <- c("iain", "sheena", "graziella", "manabu", "shaun", "paul", 
           "lainie", "jenny")
names
```

  * What is the length of this character vector?
_Length depends on the number of people in the tutor group; the important thing is that they use the function `length()` to find it. In this case, length is **8**. It's important for the students to have a grasp on the common language we use when talking about R: talk over some of these: object, class, length, vector, dimension,... etc._  
\

2. Now create a numeric variable called `norm` which is a random normal distribution with the same length as the number of people in your tutor group. It should have a mean value of 7 and a variance of 1.

```{r norm, eval = FALSE}
norm <- rnorm (8, 7, 1)
norm
```

  * Can this normal distribution have values below zero?
_Yes. It's highly unlikely the tutor groups have any values below zero, but it's not impossible. Discuss this difference with the students: some variables can't logically (or mathematically) have certain values (e.g. a proportion must be between 0 and 1); others can theoretically take values which are just very unlikely (a person could be 10 foot tall or taller, but probably isn't)._

  * Can the arguments of this vector be written in any order or does it have to be in the order you used?
_They have a default order: in this case, `n` (number of values), `mean` (the mean), `sd` (the standard deviation). Make sure to point the students to `R` help pages using `?norm`. You can change the order if you specify the arguments; the above could for example be written `rnorm(sd = 1, mean = 7, n = 8)`._

3. The normal distribution is just one kind of distribution that you can draw random numbers from. Another distribution you are probably familiar with is the _uniform distribution_, where every number has an equal chance of being chosen. Find out how to draw numbers from a random uniform distribution, and create an object called `unif` which is a numeric vector the same length as the number of people in your tutor group, drawn from a random uniform distribution between 0 and 1.
  * What is the name of the _function_ you used
```{r unif1, eval = FALSE}
unif <- runif(8, 0, 1)
# Or simply, as min and max are 0 and 1 by default
unif <- runif(8)
```
_You may want to point out the default argument values._  

4. The random uniform numbers are between 0 and 1, meaning they are proportions. Change these proportions into percentages.
```{r unif2, eval = FALSE}
unif <- unif * 100
```

5. Now create a factor vector called `sibs` which tells you whether each person in your tutor group has siblings. It should take the value `sis` if the person has sister(s), `bro` if the person has brother(s),`both` if they have both, and `neither` if they have neither. If the person is absent, use `NA`.
  + Hint: you may want to create a character vector first, and convert it into a factor.
```{r unif2, eval = FALSE}
sibs <- c("bro", "both", "sis", "sis", "bro", "sis", "neither", "sis")
sibs <- as.factor(sibs)
```

6. Create a data frame for your tutor group of the 4 objects (`name`, `norm`, `unif` and `sibs`). Call it what you like :)
```{r unif2, eval = FALSE}
beautifulstaffdata <- data.frame(name, norm, unif, sibs)
```

  * What is the name of this object?
`beautifulstaffdata` because ~~this data describes beautiful staff~~ all data is beautiful and this data describes staff.   
\

##### **BIOLOGICAL DATA**

30 mins:  

For the rest of the online workshops, we'll be using real biological data sets. These data sets are tailored slightly to your degree programs: check the DATA page for a summary of the data set and to find out which one you're using.

7. Read the CSV in to R. Save the object as:
  * `DNA_data` for the DNA and ageing data set from Huh _et al._ (2016) Maintenance of age in human neurons generated by microRNA-based neuronal conversion of fibroblasts. _eLife_, 5:e18648. DOI: 10.7554/eLife.18648.
  * `dogs_data` for the urban dogs data set from Majumder _et al._ (2016) Denning habits of free-ranging dogs reveal preference for human proximity. _Scientific Reports_, 6:32014. DOI: 10.1038/srep32014.
  * `pantheria_data` for the mammal life history data set from Jones _et al._ (2009) PanTHERIA: a species-level database of life history, ecology, and geography of extant and recently extinct mammals. _Ecology_, **90**, 2648. DOI: 10.1890/08-1494.1.

_The students will have had to download the data sets. These are available from blackboard; they're all open-access data sets but don't encourage the students to download them from the sources as I've subsetted and manipulated the data a bit._
```{r data eval = FALSE}
DNA_data <- read.csv("path/to/file/DNA_age.csv")
dogs_data <- read.csv("path/to/file/urban_dogs.csv")
pantheria_data <- read.csv("path/to/file/pantheria.csv")
```

I want to encourage you to explore the data now. Usually these sections will be quite prescriptive, with specific tasks. Right now is just a good opportunity to get to know the data, which is _so_ important. You're free to explore as you wish, using the things you've learned in this Chapter, but here are some ideas of things you might want to do:

* How many variables, and how many replicates (i.e. the dimensions of the data frame)
* How many `numeric`, `character`, `factor`, `logical` or other different types of variable are there?
* Is there any missing data?
* What does a summary of the data frame tell you?
* Make a histogram of one of the numeric variables
* Make a boxplot of one of the factors (x axis) against one of the numeric variables (y axis)
* Make a scatterplot of two numeric variables against one another

_Encourage the students to play around. They might be apprehensive as it's all new but I'm sure you can help them to feel nice and comfortable and curious!_

$~$

***
##### **END OF CHAPTER**
***
