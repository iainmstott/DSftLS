% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{book}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={BGY2011M Data Skills for the Life Sciences},
  pdfauthor={Module lead: IAIN STOTT / email istott@lincoln.ac.uk},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs}
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\usepackage{amsthm}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother
\usepackage[]{natbib}
\bibliographystyle{apalike}

\title{BGY2011M Data Skills for the Life Sciences}
\author{Module lead: IAIN STOTT / email \href{mailto:istott@lincoln.ac.uk}{\nolinkurl{istott@lincoln.ac.uk}}}
\date{Last updated 2020-08-20}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{introduction}{%
\chapter{Introduction}\label{introduction}}

Welcome to Data Skills for the Life Sciences! This page contains important
information on the module: it's worth reading through carefully, and the
information will always be here for you to refer back to. The first few sections
describe everything you need to know to set yourself up for the course. It's
really important you complete these as soon as possible. Information on the
timetable and learning schedule, and both formative and summative assessments,
are found at the bottom of the page.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{the-analytical-process}{%
\subsection{The analytical process}\label{the-analytical-process}}

This module is all about analysing data.
Any analytical process is really just a means of understanding your data, and
relationships between variables in that data. \emph{That's why I do not consider this}
\emph{to be a course in statistics; it is a course in giving you the skills to}
\emph{understand data.} Statistics is one part of that.

It's important not to dive right into statistical analysis without
understanding your data, your variables and the relationships between them
first. For that reason, much of the course will be dedicated to understanding
data, and how to plot data.\\
These steps forms the \textbf{FIRST HALF of the course}:

\begin{itemize}
\tightlist
\item
  \textbf{Tidy data}

  \begin{itemize}
  \tightlist
  \item
    data exploration
  \item
    data subsetting
  \item
    data manipulation
  \end{itemize}
\item
  \textbf{Plots}

  \begin{itemize}
  \tightlist
  \item
    Single-variable distributions and summary statistics
  \item
    Two- and three-variable plots to explore hypotheses
  \end{itemize}
\end{itemize}

Data handling and plotting is also the best vehicle to learn how to
code: data handling and plots are harder to code but easier to interpret,
whereas statistical analyses are easier to code but harder to interpret.

Equally, you cannot complete a statistical analysis without assessing how well
that model fits the data, and whether any `assumptions' of your statistical
model are violated.\\
These steps form the \textbf{SECOND HALF of the course}:

\begin{itemize}
\tightlist
\item
  \textbf{Model}

  \begin{itemize}
  \tightlist
  \item
    fitting a statistical model
  \end{itemize}
\item
  \textbf{Model fit}

  \begin{itemize}
  \tightlist
  \item
    assessing how well a statistical model fits the data
  \end{itemize}
\item
  \textbf{Results}

  \begin{itemize}
  \tightlist
  \item
    Understanding and interpreting the results of a statistical model
  \end{itemize}
\end{itemize}

The ``statistical model'' we will be working with is the
\emph{general linear model (glm)}. This is a framework which brings together
many traditional statistical analyses. You will learn where these traditional
analyses fit into the glm framework.

There are naturally feedbacks between these steps, where new information may
mean you need to revise earlier steps.\\
\hspace*{0.333em}

\begin{figure}
\centering
\includegraphics{Process.png}
\caption{The analytical process and its feedbacks, from start to finish}
\end{figure}

~

\hypertarget{installing-r-and-rstudio}{%
\section{Installing R and RStudio}\label{installing-r-and-rstudio}}

Install here

~

~

Installing R and RStudio video: \url{https://youtu.be/d7lARa168gk}
~

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{shiny-apps}{%
\section{Shiny apps}\label{shiny-apps}}

~

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{installing-r-packages}{%
\section{Installing R packages}\label{installing-r-packages}}

PACKAGES

\hypertarget{iains-notes}{%
\section{iain's notes}\label{iains-notes}}

Remember each Rmd file contains one and only one chapter, and a chapter is defined by the first-level heading \texttt{\#}.

To compile this example to PDF, you need XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): \url{https://yihui.name/tinytex/}.

\hypertarget{r-basics}{%
\chapter{R BASICS}\label{r-basics}}

Welcome to your first R tutorial! In this tutorial we'll be covering the very basics of R, which is a programming language originally developed for
understanding data and doing statistics. This tutorial includes:

\begin{itemize}
\tightlist
\item
  Why programming is important, and why its popularity in both research
  and industry is increasing
\item
  What programming languages (and specifically R) are

  \begin{itemize}
  \tightlist
  \item
    how programming works
  \item
    types of programming language (especially R)
  \item
    the anatomy (``vocabulary'' and ``grammar'') of R code
  \end{itemize}
\item
  The many benefits of using R
\item
  What RStudio is, and how RStudio works with R
\item
  The structure of R

  \begin{itemize}
  \tightlist
  \item
    base coding \emph{packages}
  \item
    add-on packages
  \end{itemize}
\end{itemize}

With this information, we'll put our newfound knowledge into practice and
do some basic coding in R to get used to this new way of working with data.

For those of you who are familiar with R already, this should still serve as a
useful reminder (and won't take very long at all!)\\
\hspace*{0.333em}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{resources}{%
\subsection{RESOURCES}\label{resources}}

These resources will help you get to grips with R and RStudio. It's well worth
taking a look: even the most experienced of us make the simplest of mistakes,
and having the resources to refer back to is incredibly useful.

Books:

\begin{itemize}
\tightlist
\item
  Beckerman, Childs \& Petchey (2017) \emph{Getting started with R, an
  introduction for Biologists}, 2nd ed.~pp 1 - 34, Chapter 1, ``Getting and
  getting acquainted with R''.
  ~
\end{itemize}

Cheatsheets:

\begin{itemize}
\tightlist
\item
  \href{https://github.com/rstudio/cheatsheets/raw/master/rstudio-ide.pdf}{RStudio IDE cheatsheet} by RStudio
\item
  \href{http://github.com/rstudio/cheatsheets/raw/master/base-r.pdf}{base-R cheatsheet} by RStudio
  ~
\end{itemize}

Web links:

\begin{itemize}
\tightlist
\item
  \href{https://education.rstudio.com/learn/beginner}{R for beginners} by RStudio\\
  \hspace*{0.333em}
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{create-your-r-script}{%
\subsection{Create your R Script}\label{create-your-r-script}}

!!! video here

R code is saved in a file with the extension \texttt{.R}. In the same way as Micosoft
Word knows to open files with \texttt{.docx} extensions and Adobe Reader knows to
open files with \texttt{.pdf} extensions, RStudio knows to open files with \texttt{.R}
extensions, and to work with them in certain ways.

In this course we'll work primarily with two different code documents: one
for Part 1 of the worksheets, and one for Part 2. By the end of the course,
these two files will each have a complete analysis, including:

Create a .R file in the folder you wish to use as your working directory. Type
in the commands* in this worksheet and check your outputs against the outputs
below. This worksheet contains \emph{Questions} and \emph{Tasks} in \emph{italics}: note
down the answers you get, and we'll go through them at the end of the session.

*typing really is better than copy-pasting, as it helps the R language stick in your
brain better. It's a better approach to learning programming. But then every time I teach R,
someone copy-pastes\ldots{} so I guess some of you will too.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{r-basics-1}{%
\section{R BASICS}\label{r-basics-1}}

With this worksheet, we'll go through some basics of working with R. This will
include learning components of R code:

\begin{itemize}
\tightlist
\item
  objects

  \begin{itemize}
  \tightlist
  \item
    assignment to objects
  \item
    object classes
  \end{itemize}
\item
  functions

  \begin{itemize}
  \tightlist
  \item
    function arguments
  \end{itemize}
\item
  outputs
\item
  comments\\
\end{itemize}

R is used for \emph{Object-Oriented Programming (OOP)}, which means that in R, you
create \textbf{objects} (packets of data which is saved in the computer's RAM), which
can be recalled and used throughout that R session, until they are either
overwritten or removed. These objects have different \textbf{classes}, which define
what the object is. R will work with objects differently, depending on their
class: for example, it is possible to calculate the mean of a vector of numbers,
but not of a vector of words!\\
~\\

Think of this like\ldots{} Minecraft. You create \emph{bricks} (our \emph{objects})
of different \emph{types} (our \emph{classes}) to build a world within your session. You
can do certain things with some types of brick, but not others. At the
end of an R session, like in Minecraft, you can delete your world, or you can
save your session.\\
~\\

First of all, create a new .R file in the folder of your choice. You'll type
code from this exercise into that file, with comments, and save it so that
you can use it again in the future, and re-create exactly the same results.
This is important for scientific TRANSPARENCY and REPRODUCIBILITY: this
way, others can clearly understand what you've done with your data, and
they can re-create the same results that you have.\\
~\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{objects}{%
\section{OBJECTS}\label{objects}}

This section covers how to create objects, what classes mean, what functions
are and how they work.\\
~\\

Objects are created using \textbf{functions}. functions take the form
\texttt{function(argument1,\ argument2,\ ...)}. Each function takes unique arguments,
and a different object is created depending on what these arguments are.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{numbers <-}\StringTok{ }\KeywordTok{seq}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{10}\NormalTok{, }\DecValTok{1}\NormalTok{)}
\NormalTok{numbers}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1]  1  2  3  4  5  6  7  8  9 10
\end{verbatim}

The object \texttt{numbers} is a \textbf{numeric vector}: this means a sequence of
numbers. You can see that the class of \texttt{numbers} is numeric:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{(numbers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "numeric"
\end{verbatim}

We can do certain things with this vector. For example, we might want to see a
summary about it, find out what its length is, or calculate the mean:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{summary}\NormalTok{(numbers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1.00    3.25    5.50    5.50    7.75   10.00
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{length}\NormalTok{(numbers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{mean}\NormalTok{(numbers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 5.5
\end{verbatim}

We can change or add arguments to make a function behave differently. For example:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{summary}\NormalTok{(numbers, }\DataTypeTok{digits =} \DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##       1       3       6       6       8      10
\end{verbatim}

\emph{Question: How has this changed the output?}\\
~\\

Going back to the original creation of the \texttt{numbers} object, we can change the
arguments to create a different object.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{numbers2 <-}\StringTok{ }\KeywordTok{seq}\NormalTok{(}\DecValTok{2}\NormalTok{, }\DecValTok{20}\NormalTok{, }\DecValTok{2}\NormalTok{)}
\NormalTok{numbers2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1]  2  4  6  8 10 12 14 16 18 20
\end{verbatim}

\emph{Question: What do the three arguments of the \texttt{seq} function mean?}\\
~\\

Maybe now we want to use \texttt{numbers1} instead of \texttt{numbers}. We can create \texttt{numbers1}
which has the same value as \texttt{numbers}, and remove \texttt{numbers}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{numbers1 <-}\StringTok{ }\NormalTok{numbers}
\KeywordTok{rm}\NormalTok{(numbers)}
\end{Highlighting}
\end{Shaded}

As you can see, we can create an object from another object. In fact, you can
create object using multiple other objects, and objects can be created in
different ways.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{numbers1 <-}\StringTok{ }\DecValTok{1}\OperatorTok{:}\DecValTok{10}  \CommentTok{# this gives the same values as seq(1, 10, 1)}
\NormalTok{numbers2 <-}\StringTok{ }\NormalTok{numbers1 }\OperatorTok{*}\StringTok{ }\DecValTok{2}
\end{Highlighting}
\end{Shaded}

We use the \texttt{\#} (hash) symbol to create a comment: nothing after it will be run
as code. It's good practise to comment your code as you go, so when you
go back to it later, it makes sense to you. Trust me, you make life so much
easier for your future self if you comment well!\\
~\\

\emph{Task: create an object called \texttt{numbers3} which is the three-times-table up to
30.}\\
~\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{classes}{%
\section{CLASSES}\label{classes}}

We'll create a new object which looks kinda like our original object, but is
not actually the same.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{characters1 <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"1"}\NormalTok{, }\StringTok{"2"}\NormalTok{, }\StringTok{"3"}\NormalTok{, }\StringTok{"4"}\NormalTok{, }\StringTok{"5"}\NormalTok{, }\StringTok{"6"}\NormalTok{, }\StringTok{"7"}\NormalTok{, }\StringTok{"8"}\NormalTok{, }\StringTok{"9"}\NormalTok{, }\StringTok{"10"}\NormalTok{)}
\NormalTok{characters1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10"
\end{verbatim}

The \texttt{c} function is really important. It means concatenate, and basically
glues together the arguments you give it. The \texttt{characters1} object
looks similar to the \texttt{numbers1} object, but it's not. Note the quote marks
around each vector element.\\
~\\

\emph{Question: find out the class of \texttt{characters1}.}\\
~\\

What happens if we try to do the same things with this vector?

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{summary}\NormalTok{(characters1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    Length     Class      Mode 
##        10 character character
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{length}\NormalTok{(characters1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{mean}\NormalTok{(characters1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in mean.default(characters1): argument is not numeric or logical:
## returning NA
\end{verbatim}

\begin{verbatim}
## [1] NA
\end{verbatim}

One of these functions went kinda wrong. As far as R is concerned, the
elements of \texttt{characters1} are words, and it can't calculate the mean of some
words. It returns \texttt{NA}, meaning Not Applicable: R code for something which
doesn't exist or is missing. The Warning message makes sure you're aware that
something went wrong. R can also return an Error message, which tells you that
the function has failed. Pay attention to these messages: usually if you get
an Error or a Warning, much of your subsequent code will fail as it depends
on things going right.\\
~\\

It's possible to convert things between different classes, although the
behaviour is sometimes unpredictable so be careful!

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{characters2 <-}\StringTok{ }\KeywordTok{as.character}\NormalTok{(numbers2)}
\NormalTok{characters2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "2"  "4"  "6"  "8"  "10" "12" "14" "16" "18" "20"
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{class-types}{%
\section{CLASS TYPES}\label{class-types}}

There are 5 different class types that it's important to know at this point.

\begin{itemize}
\tightlist
\item
  \textbf{numeric}
\item
  \textbf{character}
\item
  \textbf{factor}
\item
  \textbf{logical}
\item
  \textbf{data.frame}
\end{itemize}

\hypertarget{numeric-and-character}{%
\subsection{numeric and character}\label{numeric-and-character}}

We've encountered numeric and character. Let's create slightly longer vectors:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{num <-}\StringTok{ }\KeywordTok{runif}\NormalTok{(}\DecValTok{25}\NormalTok{)}
\NormalTok{num}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.843039128 0.439652520 0.742692753 0.695618859 0.607953966 0.270241955
##  [7] 0.802375228 0.716008097 0.119222724 0.471734680 0.461503703 0.444240536
## [13] 0.757629197 0.194262389 0.246274171 0.609488279 0.548424200 0.116117670
## [19] 0.008143599 0.449877890 0.437442974 0.556879221 0.237673983 0.494488886
## [25] 0.621920952
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{char <-}\StringTok{ }\NormalTok{LETTERS[}\DecValTok{1}\OperatorTok{:}\DecValTok{25}\NormalTok{]}
\NormalTok{char}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "A" "B" "C" "D" "E" "F" "G" "H" "I" "J" "K" "L" "M" "N" "O" "P" "Q" "R" "S"
## [20] "T" "U" "V" "W" "X" "Y"
\end{verbatim}

There are a few new things here. The \texttt{runif} function generates random numbers
between 0 and 1. The \texttt{LETTERS} object exists already when you load R, and
contains the alphabet.\\

It's important to understand how different vectors `work', but most of this
experience comes with time. Here's an example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{num }\OperatorTok{*}\StringTok{ }\DecValTok{10}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 8.43039128 4.39652520 7.42692753 6.95618859 6.07953966 2.70241955
##  [7] 8.02375228 7.16008097 1.19222724 4.71734680 4.61503703 4.44240536
## [13] 7.57629197 1.94262389 2.46274171 6.09488279 5.48424200 1.16117670
## [19] 0.08143599 4.49877890 4.37442974 5.56879221 2.37673983 4.94488886
## [25] 6.21920952
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{num }\OperatorTok{-}\StringTok{ }\KeywordTok{seq}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{25}\NormalTok{, }\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1]  -0.1569609  -1.5603475  -2.2573072  -3.3043811  -4.3920460  -5.7297580
##  [7]  -6.1976248  -7.2839919  -8.8807773  -9.5282653 -10.5384963 -11.5557595
## [13] -12.2423708 -13.8057376 -14.7537258 -15.3905117 -16.4515758 -17.8838823
## [19] -18.9918564 -19.5501221 -20.5625570 -21.4431208 -22.7623260 -23.5055111
## [25] -24.3780790
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{num }\OperatorTok{*}\StringTok{ }\KeywordTok{c}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{-10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in num * c(10, -10): longer object length is not a multiple of shorter
## object length
\end{verbatim}

\begin{verbatim}
##  [1]  8.43039128 -4.39652520  7.42692753 -6.95618859  6.07953966 -2.70241955
##  [7]  8.02375228 -7.16008097  1.19222724 -4.71734680  4.61503703 -4.44240536
## [13]  7.57629197 -1.94262389  2.46274171 -6.09488279  5.48424200 -1.16117670
## [19]  0.08143599 -4.49877890  4.37442974 -5.56879221  2.37673983 -4.94488886
## [25]  6.21920952
\end{verbatim}

\emph{Question: what's happened for each of those lines of code? What does the Warning
message mean after running the final line?}\\
\hspace*{0.333em}

\hypertarget{factor}{%
\subsection{factor}\label{factor}}

A \textbf{factor} object is like a character object, but recognises groups of elements
which are the same, called \emph{levels}. Let's take a look:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fac <-}\StringTok{ }\KeywordTok{rep}\NormalTok{(LETTERS[}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{], }\DecValTok{5}\NormalTok{)}
\NormalTok{fac <-}\StringTok{ }\KeywordTok{as.factor}\NormalTok{(fac)}
\end{Highlighting}
\end{Shaded}

We use the square brackets to choose which letters we
want: we choose A, B, C, D and E. The \texttt{rep} function means repeat, so we
repeat A to E five times, to give a vector that has a length of 25.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{summary}\NormalTok{(fac)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## A B C D E 
## 5 5 5 5 5
\end{verbatim}

We can see from the summary that R recognises the five different factor levels,
A through E.\\
~\\

\hypertarget{logical}{%
\subsection{logical}\label{logical}}

Logical objects are perhaps hard to understand at first, but they're simple
really. They basically indicate whether something is \texttt{TRUE} or \texttt{FALSE}. They
usually relate to a question we ask of our data:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{over0}\FloatTok{.5}\NormalTok{ <-}\StringTok{ }\NormalTok{num }\OperatorTok{>}\StringTok{ }\FloatTok{0.5}
\NormalTok{over0}\FloatTok{.5}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1]  TRUE FALSE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE
## [13]  TRUE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE
## [25]  TRUE
\end{verbatim}

The result is information on which of your random data are higher than 0.5.\\
~\\

\emph{Question: Do you have the same value for \texttt{over0.5} as your neighbour? Why?}\\
~\\

There are lots of questions you can ask of your data, many functions you'll
encounter on your R journey e.g.~

\begin{itemize}
\tightlist
\item
  \texttt{\textgreater{}} greater than
\item
  \texttt{\textgreater{}=} greater than or equal to
\item
  \texttt{\textless{}} less than
\item
  \texttt{\textless{}=} less than or equal to
\item
  \texttt{==} exactly equal to
\item
  \texttt{\%in\%}~\\
\end{itemize}

Let's have a look at that last function. It tells us whether a value or values
(on the left) exist in the data (on the right). For example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{numbers2 }\OperatorTok{%in%}\StringTok{ }\NormalTok{numbers1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE
\end{verbatim}

This tells you which elements of \texttt{numbers2} are numbers in \texttt{numbers1}, i.e.~
which elements of \texttt{numbers2} are less than or equal to 10.\\
~\\

\emph{Task: show a different way to find out which elements of \texttt{numbers2} are less
than or equal to 10.}\\
~\\

It's not necessary when using \texttt{\%in\%} for the two vectors to have the same length.\\
~\\

\emph{Task: show code to find out which elements of \texttt{char} contain letters found in \texttt{fac}?}\\
~\\

\hypertarget{data.frame}{%
\subsection{data.frame}\label{data.frame}}

Finally, we'll encounter the \texttt{data.frame}. This is the way most data is
stored for data analysis. As we learned earlier, there's one column per variable
and one row per observation. \texttt{data.frame}s are simply collections of variables:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data <-}\StringTok{ }\KeywordTok{data.frame}\NormalTok{(num, char, fac)}
\end{Highlighting}
\end{Shaded}

To access variables in a data.frame, you simply use the \texttt{\$} dollar sign.

\begin{verbatim}
data$num
\end{verbatim}

You can read in \texttt{data.frame}s from your own data: and you'll learn much more
about that next time\ldots{}\\
~\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{final-tips}{%
\section{FINAL TIPS}\label{final-tips}}

Use \texttt{?} to get help on a function. These help pages take a while to get used
to, but they lay out what arguments a function takes, what those arguments
are, what the output (value) of the function is, and some examples.\\
~\\

The internet is really useful. As you get used to R, you'll be able to find
blogs and articles and forums that give you answers. There are also R mailing
lists, but it's best not to email them until you're sure you've done everything
you can to solve your problem.\\
~\\

If something goes wrong with your R coding (usually Errors), then 99.9\% of the
time it's because you've made a mistake. R is very literal. Be careful!\\
~\\

\_Task: what are the errors (`bugs') in the lines of code below?

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mynums <-}\StringTok{ }\KeywordTok{seq}\NormalTok{(}\DecValTok{4}\NormalTok{, }\DecValTok{40}\NormalTok{, }\DecValTok{4}\NormalTok{,)}
\NormalTok{mychar <-}\StringTok{ }\NormalTok{LETTERS[}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{, }\DecValTok{21}\OperatorTok{:}\DecValTok{26}\NormalTok{)]}
\KeywordTok{length}\NormalTok{(Mychar)}
\end{Highlighting}
\end{Shaded}

These are really common mistakes to make. Be aware!

\hypertarget{single-variable-plots}{%
\chapter{SINGLE VARIABLE PLOTS}\label{single-variable-plots}}

For this worksheet, it may be useful to continue your ``Data Handling'' .R file,
as we will be using some of the data subsetting techniques that we learned
last week. As you complete this worksheet, copy the code that the ShinyGLiM
app shows you into your .R file, and run it using the `games' data in R. Hopefully
you can create the same plots that the ShinyGLiM app shows you :)

Remember: typing code really is better than copy-pasting, as it helps the R language stick in your
brain better.

The first part of this worksheet contains \emph{Questions} and \emph{Tasks} in \emph{italics}: note
down the answers you get, and we'll go through them at the end of the session.

The second part of this worksheet contains some tasks for you to complete with a
real data set. There will be several choices of data sets to work with, each with a different
question or hypothesis suggested by me, although I am perfectly happy for
you to pursue different questions or hypotheses instead.
From this point (week 2) until week 8, you'll develop
your coding with the data \& hypothesis you choose, until you've gone through the whole\\
Tidy Data --\textgreater{} Plot --\textgreater{} Model --\textgreater{} Model Check --\textgreater{} Results\\
process. In week 8 we'll review what you've achieved, and what useful points there
are to bring forward to your project at the end of the module.\\
~\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{resources}{%
\section{RESOURCES}\label{resources}}

Books:

\begin{itemize}
\tightlist
\item
  Beckerman, Childs \& Petchey (2017) \emph{Getting started with R, an
  introduction for Biologists}, 2nd ed.~pp 87 - 91, Chapter 4.4, ``Distributions:
  making histograms of numeric variables'', \& Chapter 4.5, ``Saving your graphs for
  presenatation, documentation, etc.''.
  ~
\end{itemize}

Cheatsheets:

\begin{itemize}
\tightlist
\item
  ggplot2 cheatsheet - see Resources section on blackboard or
  download \href{https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf}{here}
  ~
\end{itemize}

Web links:

\begin{itemize}
\item
  \href{https://ggplot2.tidyverse.org/}{gpglot2} by RStudio\\
  \hspace*{0.333em}
\item
  \href{https://iainmstott.shinyapps.io/ShinyGLiM}{\textbf{ShinyGLiM}}\\
\end{itemize}

\hypertarget{packages}{%
\section{PACKAGES}\label{packages}}

You'll need to load the right packages every time you complete worksheets. In
this session, we will be working with:

\begin{itemize}
\tightlist
\item
  \texttt{readr}, which helps load in data
\item
  \texttt{dplyr}, which is our data subsetting and manipulation friend
\item
  \texttt{ggplot2}, which makes pretty pretty data visualisations.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(readr)}
\KeywordTok{library}\NormalTok{(dplyr)}
\KeywordTok{library}\NormalTok{(ggplot2)}
\end{Highlighting}
\end{Shaded}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{plotting-single-variables}{%
\section{PLOTTING SINGLE VARIABLES}\label{plotting-single-variables}}

It's really important to understand the nature of your data. There are different
types of data, and here are some of the types we regularly encounter as ecologists:

\begin{itemize}
\tightlist
\item
  numeric

  \begin{itemize}
  \tightlist
  \item
    continuous: Gaussian, beta, exponential
  \item
    discrete (counts): Poisson, binomial
  \end{itemize}
\item
  non-numeric

  \begin{itemize}
  \tightlist
  \item
    categorical
  \item
    ordinal\\
  \end{itemize}
\end{itemize}

In this course we'll be primarily focusing on three of the most common types
of data we deal with as dependent variables in ecology: Gaussian (normal),
Poisson and binomial (\ldots although the independent variables we work with
will be of other types too; certainly we'll work with categorical independent variables).

The \textbf{distributions} of these variables are important factors in how we
interpret plots and analyses. Distributions are effectively `counts' of the
number of times certain variable values occur (e.g.~for the paper balls game
the counts of occurrence of 0, 1, 2, 3, 4,\ldots), or the number of times variable
values occur within certain intervals (e.g.~for the forward fold the number of
values between -3 to -2, -2 to -1, -1 to 0,\ldots). Distributions show us how variables are
\textbf{bounded} (i.e.~cannot occur above, below or between certain values),
how they are \textbf{skewed} (e.g.~there are lots of small values but not many large ones),
which \textbf{statistical distributions} the data approximate, and what that means
for their \textbf{moments} (mean, variance, skewness). All of these things can have implications
for how you analyse your data, and how you interpret your results.

In this particular session, we're going to acquaint ourselves with the
\href{https://ggplot2.tidyverse.org/}{\texttt{ggplot2}} package. \texttt{ggplot2} is a great
package for data visualisation: it's easy to make very pretty graphs with
only a few lines of code, and has simplified many data visualisation problems
which previously were tricky in R. We'll be learning:

\begin{itemize}
\tightlist
\item
  a reinforcement of data-handling skills
\item
  an understanding of the grammar of graphics and how ggplot uses it
\item
  how plot histograms

  \begin{itemize}
  \tightlist
  \item
    \texttt{ggplot()} and \texttt{aes()} to initialise a plot
  \item
    adjustments to coordinates
  \item
    \texttt{geom\_histogram} to map a histogram
  \item
    how to change the look of a plot with themes and other options\\
    ~\\
  \end{itemize}
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{part-1}{%
\section{PART 1}\label{part-1}}

\hypertarget{user-guide}{%
\section{USER GUIDE}\label{user-guide}}

Reacquaint yourself with the USER GUIDE, as it may be able to answer some of
your questions!\\
~\\

\hypertarget{subsetting-data}{%
\section{SUBSETTING DATA}\label{subsetting-data}}

Remind yourself how to subset data, as we'll be re-using these skills every week
from now on.\\
~\\

\hypertarget{data-visualisation-one-variable}{%
\section{DATA VISUALISATION (ONE VARIABLE)}\label{data-visualisation-one-variable}}

This new page shows how to code single-variable plots (histograms) in R using
\texttt{ggplot2}.\\

\hypertarget{forward-fold}{%
\subsection{FORWARD FOLD}\label{forward-fold}}

We're going to begin by working with the forward fold (\texttt{ffold}) variable. For now,
we'll keep all of the data points, so don't make any changes to the data frame.

Head on over to the DATA VISUALISATION (ONE VARIABLE) page. Choose to plot the
forward fold (\texttt{ffold}) variable. Keep all of the other options at their defaults, for now.

\emph{Question: how would you describe the distribution of the forward fold variable?
Think about what the characteristics of a distribution are, and what characteristics
this distribution has. Think about what characteristics you would expect the
distribution to have. Do your expectations match the reality?}\\
~\\

Now try adjusting the number of bins that you're plotting. Try higher numbers, and try lower.
As you adjust the number of bins, look at the CODE tab to see what changes.

\emph{Questions:}

\begin{itemize}
\tightlist
\item
  \emph{What happens if you increase the number of bins?}
\item
  \emph{What happens if you descrease the number of bins?}
\item
  \emph{What do you think is the perfect bin number to use?}\\
\end{itemize}

Now getting back CODE tab, look at how the code changes as you change the number of bins.

\emph{Question: when changing the number of bins, which of the following changes in
the code?}

\begin{itemize}
\tightlist
\item
  a \textbf{function}
\item
  an \textbf{argument}
\item
  an \textbf{object}
\item
  an \textbf{option}\\
\end{itemize}

You can probably guess by looking at the code how elements of the code match up to the rest of the options in the app.
As I have said all along so far, R is very literal! Have a guess at what
will change in the code if you change the x axis limits, the fill colour for
the bars, and the theme.

\emph{Questions:}

\emph{\emph{Did the code change in the way you expected, and if not, how was it different? }
} \emph{What's the best colour to plot the bars with? }
* \emph{What's the nicest theme, and are there any other themes than the ones listed?
(Hint: Google is your friend when it comes to finding out new things about R).}\\
~\\

Cast your mind back to the \emph{BGY2010M W1.2 Data handling} worksheet, because
you're going to have to remember something you learned! You want to look
at the `games' data for only people who can't touch the floor, as you have a theory
that their tight muscle tension could mean they have quicker reactions
(the \texttt{ruler} variable).

\emph{Task: work out (without looking at the app!) which of these three pieces of code
give the correct way to subset the data in the way described above.}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# a)}
\NormalTok{data }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(ffold }\OperatorTok{%over%}\StringTok{ }\DecValTok{0}\NormalTok{)}

\CommentTok{# b)}
\NormalTok{data }\OperatorTok{%>%}\StringTok{ }\KeywordTok{slice}\NormalTok{(ffold }\OperatorTok{>=}\StringTok{ }\DecValTok{0}\NormalTok{)}

\CommentTok{# c)}
\NormalTok{data }\OperatorTok{%>%}\StringTok{ }\KeywordTok{select}\NormalTok{(ffold }\OperatorTok{>}\StringTok{ }\DecValTok{0}\NormalTok{)}

\CommentTok{# d)}
\NormalTok{data }\OperatorTok{%>%}\StringTok{ }\KeywordTok{filter}\NormalTok{(ffold }\OperatorTok{>}\StringTok{ }\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Now, head to the DATA page and subset the data to only people who can't touch the
floor. See whether you got the above answer right.\\
~\\

Returning to the DATA VISUALISATION (ONE VARIABLE) page, see how subsetting
the data has changed your plot.

\emph{Question: think back to the start of this worksheet and what you thought about
the characteristics of the distribution of the \texttt{ffold} variable. Now that you've subsetted the \texttt{ffold} data, have those thoughts changed?}\\
~\\

\hypertarget{ruler-reaction}{%
\subsection{RULER REACTION}\label{ruler-reaction}}

Now plot a histogram of the \texttt{ruler} variable, still just for people who can't
touch the floor.

\emph{Question: what x-axis limits should you probably choose?}\\
~\\

Choose what number bins you think works best, and add a
density plot on top. Take a mental (or literal) snapshot of what the plot looks
like. Head back to the DATA page, undo your subset to revert back to the full data set, then see how the plot has changed on the DATA VISUALISATION (ONE VARIABLE) page.

\emph{Question: Are the two distributions similar, or different? What might that tell
us about the hypothesis?}\\
~\\

\hypertarget{paper-balls}{%
\subsection{PAPER BALLS}\label{paper-balls}}

Now, with the whole data set, we'll plot the distribution of the paper balls
variable. Choose a number of histogram bins that you're comfortable with, and then add a density plot.

\emph{Task: Without looking at the CODE tab, find the mistake(s) in the code below
and correct them to give you the code needed to produce the plot.}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{hist <-}\StringTok{ }\KeywordTok{ggplot}\NormalTok{(data, }\DataTypeTok{x =}\NormalTok{ pballs)}
    \KeywordTok{geom_histogram}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{y =}\NormalTok{ ..density..), bins}\OperatorTok{:}\StringTok{ }\DecValTok{8}\NormalTok{, fill}\OperatorTok{:}\StringTok{ }\NormalTok{steelblue4) }\OperatorTok{+}\StringTok{ }
\StringTok{    }\CommentTok{# your bin numbers and colour may be different to above!}
\StringTok{    }\KeywordTok{xlim}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{10}\NormalTok{))}
    \CommentTok{# your xlim may be different to above!}
    \KeywordTok{theme}\NormalTok{(}\StringTok{"minimal"}\NormalTok{)}
    \CommentTok{# your theme may be different to above!}

\NormalTok{hist }\OperatorTok{+}\StringTok{ }\KeywordTok{geom_density}\NormalTok{(}\DataTypeTok{color =} \StringTok{'white'}\NormalTok{, }\DataTypeTok{bars =} \StringTok{'darkgrey'}\NormalTok{, }\DataTypeTok{alpha =} \FloatTok{0.5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Check the code tab to see whether you managed to catch the mistakes properly.

\emph{Question: what do you think the \texttt{alpha} value does in the \texttt{geom\_density()}
function?}\\
~\\

Finally, you may notice that in the \emph{Getting started with R} book, they don't
use \texttt{y\ =\ ..density..} when plotting histograms. This is included here so that
it's possible to see the density plot on top. For a probability density histogram,
each bar represents the proportion of the data that takes a certain range of
values. If we use a histogram of counts, it's the number of data points that
have a certain value.

\emph{Task: a count histogram is probably more relevant for the \texttt{pballs} variable.
How would we change the code to get counts? (Hint: take a look in the
Getting Started with R book).}\\
~\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{part-2}{%
\section{PART 2}\label{part-2}}

In this part, we'll start looking at real data sets. There are several
to choose from, each with a suggested hypothesis, and you can find them in the
DataDescription.html file in the DATA section on Blackboard.\\
~\\

\emph{Tasks: For your chosen data and hypothesis, you need to:}

\begin{itemize}
\tightlist
\item
  \emph{Subset the data by removing any rows (and perhaps columns) which are not
  needed.}
\item
  \emph{Add to the data frame any extra variables you need for your analysis (if any).}
\item
  \emph{Plot the distributions of the numeric variables you'll include in your
  analysis. At this point, response variables should be variables with Gaussian (normal) distributions (talk to me if you need any clarification on this).}
\item
  \emph{Draw some conclusions about the distributions of your variables\ldots{}}

  \begin{itemize}
  \tightlist
  \item
    \emph{Are the variables continuous (can take any number) or discrete (usually counts)?}
  \item
    \emph{Are they bounded at all?}
  \item
    \emph{Are they skewed, and how does that compare to what you would expect?}
  \item
    \emph{What are their \textbf{moments} (mean, variance, median, mode, skewness) likely to be?}\\
    ~\\
  \end{itemize}
\end{itemize}

On this last point: moments of data are easy to calculate. You can use, e.g.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{mean}\NormalTok{(data}\OperatorTok{$}\NormalTok{pballs) }\CommentTok{# if there are missing values add na.rm = TRUE}
\KeywordTok{median}\NormalTok{(data}\OperatorTok{$}\NormalTok{pballs) }

\CommentTok{# calculating other moments requires using a package}
\KeywordTok{install.packages}\NormalTok{(}\StringTok{"moments"}\NormalTok{)}
\KeywordTok{skewness}\NormalTok{(data}\OperatorTok{$}\NormalTok{pballs)}
\end{Highlighting}
\end{Shaded}

~
~

\hypertarget{data-handling-and-management}{%
\chapter{DATA HANDLING AND MANAGEMENT}\label{data-handling-and-management}}

Create a new .R file in the folder you wish to use as your working directory, to
use in this session.

Tidy Data --\textgreater{} Plot --\textgreater{} Model --\textgreater{} Model Check --\textgreater{} Results.

The worksheet comes in two parts.

\begin{itemize}
\tightlist
\item
  In the first part, you'll work with the
  \href{https://iainmstott.shinyapps.io/ShinyGLiM}{ShinyGLiM app}
  to find out what code you would write to achieve certain tasks in R.
\item
  In the second part,
  you'll work with real scientific data to apply your new knowledge to real scientific
  questions.\\
  ~\\
\end{itemize}

Again, type in the commands rather than copy-pasting\ldots{}\\

Whilst you do part 1, you might want to copy code from the app into your .R
file: in part 2 it might be useful to edit it to get the answers you need!\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{resources}{%
\section{RESOURCES}\label{resources}}

Books:

\begin{itemize}
\tightlist
\item
  Beckerman, Childs \& Petchey (2017) \emph{Getting started with R, an
  introduction for Biologists}, 2nd ed.~pp 35 - 78, Chapter 2, ``Getting your
  data into R'' and Chapter 3, ``Data management, manipulation and exploration''.
  ~
\end{itemize}

Cheatsheets:

\begin{itemize}
\tightlist
\item
  Week 1: data transformation with dplyr cheatsheet by RStudio -
  see Resources section on blackboard or download
  \href{https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf}{here}
\end{itemize}

Web links:

\begin{itemize}
\tightlist
\item
  \href{https://education.rstudio.com/learn/beginner\%22}{R for beginners} by RStudio
  ~
\end{itemize}

\href{https://iainmstott.shinyapps.io/ShinyGLiM}{\textbf{ShinyGLiM}}\\
~\\

\hypertarget{packages}{%
\section{PACKAGES}\label{packages}}

You'll need to load the right packages every time you complete worksheets. In
this session, we will be working with:

\begin{itemize}
\tightlist
\item
  \texttt{readr}, which helps load in data
\item
  \texttt{dplyr}, which is our data subsetting and manipulation friend
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(readr)}
\KeywordTok{library}\NormalTok{(dplyr)}
\end{Highlighting}
\end{Shaded}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{data-handling}{%
\section{DATA HANDLING}\label{data-handling}}

We've learned some basic stuff in R: objects, classes, assignments, functions,
arguments, outputs, comments. Importantly we've learned of a few common classes
of object that we'll often encounter during our R adventures: numeric,
character, factor, logical, data.frame. We've learned how
R works, with the base packages providing the basic functionality, which can be
built upon to get R to work for whatever you might imagine (within reason).
These add-on thingies are called \textbf{packages} and you store them in your R
\textbf{library}. (R aficionados will tell you not to confuse ``package'' and ``library'':
you load packages, which are stored in youur library, and their brains
explode if you tell them you're loading the library).

We've also learned about \textbf{Tidy Data}. Tidy data allows you, as analyst padawans,
to easily subset and manipulate data, so you're working with the data that you
need to be working with.

In this session, we're going to learn common means of manipulating data. From
here on, we'll be using a collection of packages, built by RStudio, called the
\href{https://www.tidyverse.org}{\textbf{tidyverse}} (although we'll only be using a
few of the ones that are on offer). The tidyverse is a new, emerging way of
programming in R. It's fast becoming the standard way of coding, athough
old-schoolers like me have taken a while to get used to it.

In this particular session, we're going to acquaint ourselves with the
\href{https://dplyr.tidyverse.org/}{\texttt{dplyr}} package. \texttt{dplyr} is an expert
data-wrangler which you can use to organise and manipulate data ready for
plotting and analysis. We'll be learning:

\begin{itemize}
\tightlist
\item
  how to read data into R
\item
  how to subset data

  \begin{itemize}
  \tightlist
  \item
    \texttt{slice()} and \texttt{filter()} to choose certain rows of the \texttt{data.frame}
  \item
    \texttt{select()} to choose certain columns of the \texttt{data.frame}
  \end{itemize}
\item
  how to manipulate data

  \begin{itemize}
  \tightlist
  \item
    how to add a variable to the \texttt{data.frame} using \texttt{mutate()}
  \item
    how to arrange the \texttt{data.frame} by variable values using \texttt{arrange()}
  \end{itemize}
\item
  how to use \textbf{pipes} to make coding neater and cleaner.\\
  ~\\
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{part-1}{%
\section{PART 1}\label{part-1}}

\hypertarget{user-guide}{%
\section{USER GUIDE}\label{user-guide}}

Read the USER GUIDE for ShinyGLiM. At this point, we'll just be working on the
first step: \emph{Tidy Data}. The first thing you want to do, on the User Guide page,
is choose your data. However for now there's only one data set: the `games'
data we collected last week\ldots{} plus some extra data: and yes, I made some of your
other lecturers do the tasks too!\\
~\\

\hypertarget{subsetting-data}{%
\section{SUBSETTING DATA}\label{subsetting-data}}

On the DATA tab, you can see the games data. There are two panels on the right
hand side: DATA FRAME and CODE (if your browser window is narrow or you're
using a smartphone or a tablet then these might be at the bottom of the
page). Click on the CODE tab. These two lines of
code are what you need to read in the games data and get R to show it.

On the left are some options. You can choose rows by row numbers or variable
values, and columns by column numbers or column names.\\
~\\

\hypertarget{slice}{%
\subsection{\texorpdfstring{\texttt{slice()}}{slice()}}\label{slice}}

First we'll pick some rows by their number using \texttt{slice}. Change the row numbers
slider to pick a subset of the dataframe rows.

\begin{itemize}
\tightlist
\item
  check that the DATA FRAME displayed has changed like you expect it to
\item
  take a look at the CODE panel to see how it's changed
\end{itemize}

\emph{Question: which of the above topics (reading data, \texttt{slice()}, \texttt{filter()},
\texttt{select()}, \texttt{mutate()}, pipe) are we using in this code?}\\
~\\

Note how we assign \texttt{\textless{}-} the smallest and largest row values to
\texttt{rows} and then use these values later to subset the data with \texttt{seq()} and
\texttt{slice()}.

\emph{Question: Why might we want to take this approach rather than just using
the values directly?}

\emph{Question: Based on what you learned in the basic R worksheet, how could you
achieve the same subset of data with a slightly different approach in
specifying the rows to take out?}\\
~\\

You'll notice that we use a \textbf{pipe} \texttt{\%\textgreater{}\%} in this code:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dataSubset <-}\StringTok{ }\NormalTok{data }\OperatorTok{%>%}
\StringTok{    }\KeywordTok{slice}\NormalTok{( }\KeywordTok{seq}\NormalTok{(rows[}\DecValTok{1}\NormalTok{], rows[}\DecValTok{2}\NormalTok{], }\DecValTok{1}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

The pipe is a way of taking whatever you have and then passing it to the next
function. So, here we take \texttt{data}, and then pass it to \texttt{slice()} to chop out
some rows. We could do this a different way without a pipe:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dataSubset <-}\StringTok{ }\KeywordTok{slice}\NormalTok{(data, }\KeywordTok{seq}\NormalTok{(rows[}\DecValTok{1}\NormalTok{], rows[}\DecValTok{2}\NormalTok{], }\DecValTok{1}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

For something short like we're doing here, this might make sense. But as you
need to do more and more things with your data, this gets more complicated as
you end up with functions inside functions, parentheses within parentheses\ldots{}\\
~\\

\hypertarget{select}{%
\subsection{\texorpdfstring{\texttt{select()}}{select()}}\label{select}}

As an example of how the pipe is useful, let's also choose certain columns.
For now we'll choose by column number. Pick ``Choose by\ldots{} Column numbers'' and
change the slider to whatever values you want. Check the DATA FRAME to check
you have the right ones, then check the CODE to see what you have. Notice that
there's a further step in the data subsetting.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dataSubset <-}\StringTok{ }\NormalTok{data }\OperatorTok{%>%}
\StringTok{    }\KeywordTok{slice}\NormalTok{( }\KeywordTok{seq}\NormalTok{(rows[}\DecValTok{1}\NormalTok{], rows[}\DecValTok{2}\NormalTok{], }\DecValTok{1}\NormalTok{) ) }\OperatorTok{%>%}
\StringTok{        }\KeywordTok{select}\NormalTok{( }\KeywordTok{seq}\NormalTok{(cols[}\DecValTok{1}\NormalTok{], cols[}\DecValTok{2}\NormalTok{], }\DecValTok{1}\NormalTok{) ) }
\end{Highlighting}
\end{Shaded}

\emph{Question: using information from the R basics worksheet, how would you choose
columns (or rows) that aren't in a sequence, for example only columns 2 and 4?}\\
~\\

Let's imagine what that the above code would look like without pipes\ldots{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dataSubset <-}\StringTok{ }\KeywordTok{select}\NormalTok{(}\KeywordTok{slice}\NormalTok{(data, }\KeywordTok{seq}\NormalTok{(rows[}\DecValTok{1}\NormalTok{], rows[}\DecValTok{2}\NormalTok{], }\DecValTok{1}\NormalTok{) ), }\KeywordTok{seq}\NormalTok{(cols[}\DecValTok{1}\NormalTok{], cols[}\DecValTok{2}\NormalTok{], }\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Yeah, not great. Lesson: pipes \emph{are} great!\\
~\\

Most of the time we don't want to (or more accurately shouldn't) select a
column using its number. We have variables, and those variables are named,
and we're much less likely to make a mistake if we use those names rather
than picking the wrong number. Choose the option to choose columns using variable
names, and take out whichever ones you feel like. Note how the code then changes,
and you're selecting variables by name instead of by number. That's way more trustworthy.

\emph{Question: What could you write instead of the code you now see, if you just
wanted to remove one of the variables? Hint\ldots{} the answer can be found in the
section on ´select()´ in Getting Started with R.}\\
~\\

\hypertarget{filter}{%
\subsection{\texorpdfstring{\texttt{filter()}}{filter()}}\label{filter}}

Selecting rows using numbers is also not the best way to go about things. Choose
the option to select rows using variable values.

There's a bit more thinking with this one. Cast your brain back to the R basics
worksheet and what a \emph{logical} is. In the text box you can see there, you can type
any logical that involves any of the variables, using any of the logical
operators you encountered in the R basics exercise (or other ones as well if you
know them!). Think about whether the variable is continuous or categorical, and
which logical operators work with which variables. Here are some ideas to
start: \texttt{pict\_cards\ \textgreater{}=\ 1} gives you every person who got at least 1 picture card;
\texttt{role\ ==\ "student"} gives you all the values for students.

\emph{Task: subset the data to rows for people with negative forward fold numbers.
If you think you know how, subset the data to rows for people with negative
forward fold numbers} \textbf{\&} \emph{who are students. Hint: there's a bold statement
there indicating how you might do that.}\\

\hypertarget{adding-variables}{%
\section{ADDING VARIABLES}\label{adding-variables}}

Sometimes we might want to add a variable to the data frame that's some kind of
function of one or more other variables.\\
~\\

\hypertarget{mutate}{%
\subsection{\texorpdfstring{\texttt{mutate()}}{mutate()}}\label{mutate}}

\texttt{mutate()} is the function we'll use to add variables. Imagine, for example,
that you realised your ruler was snapped and started at 5cm. That would mean all
the reaction measures are 5cm too high! So, choose the option to add a variable.
Pick a name for this corrected reaction measure, write in the correct code for its
value and add it to the data. Take a look at the code to see what's changed.

\emph{Question: is it possible to add this variable before we subset the data? Would
we always want to add afterwards, or before, or a mix?}\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{part-2}{%
\section{PART 2}\label{part-2}}

We'll now put some of that learning into practise with a few tasks with the
data. Try and complete these on your own, without consulting the app, and
I'm sure you copied the code over from the app as was suggested, so you can
edit that as you need to. First, pretty simple, but pretty important\ldots{}\\
~\\

\emph{Task: read in the games data}\\
~\\

You're interested in whether luck truly is a real thing in life, as you think
men are unluckier than any other gender. Drawing a picture card is unlucky, as
picture cards look at you funny and you're pretty sure they're up to no good.
Drawing a black card is luckier than drawing a red card, as red is the colour
of the devil. There are several steps to preparing your data\ldots{}

\emph{Task: prepare your lucky, lucky data\ldots{}}

\begin{itemize}
\tightlist
\item
  \emph{You don't want to use any data from people who drew 4 cards, as 4 represents
  the 4 horsemen of the apocalypse. Remove any data where someone chose 4 cards.}
\item
  \emph{You don't care about any variable that isn't associated with the cards, except
  for the identity of the person: their gender and their group. Get rid of the
  variables you don't care about.}
\item
  \emph{You need to know how many non-picture cards there were for each person, so
  calculate that and add it to your data.}\\
\end{itemize}

\emph{Questions:}

\begin{itemize}
\tightlist
\item
  \emph{How many rows of data do you have left?}
\item
  \emph{What function would you use to arrange the rows of the data frame by the number of
  picture cards drawn? (Hint: see the Getting Started with R book)\ldots{} can you
  write the code that would do that?}
\item
  \emph{What's the mean total number of black cards drawn?}
\item
  \emph{What are the mean numbers of picture cards drawn, separately for each gender?
  Hint: you can look at p.~71 of Getting Started With R for this one, and we'll
  encounter it later in the course as well.}\\
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{final-tips}{%
\section{FINAL TIPS}\label{final-tips}}

That's a whistle-stop tour in data tidying. I'd encourage you to also look at
p.75 of \emph{Getting Started With R} which shows how this information maps on to
the \emph{base-R} methods for working with \texttt{data.frame}s. Most people will use these,
and they can sometimes be quicker and easier when you just have something
very simple to do (this is a general rule with the \texttt{tidyverse} packages:
often if you have something quick to do, then the base-R approach is better).
Either approach is equally as valid.\\
~\\

Note how I write R code: where there are spaces, what the indentation looks like,
etc. This is code \emph{formatting} and there's an accepted standard for what it
should look like. Confusingly, it does matter in some instances where you do or
do not put a space, but most of the time you can put a space (in fact as many spaces
as you like), wherever you want. It's not the end of the world if you don't keep
to the proper standards, but it does make code way easier to read.

\hypertarget{two-variable-plots}{%
\chapter{TWO-VARIABLE PLOTS}\label{two-variable-plots}}

As you complete Part 1 of this worksheet, you may find it useful to copy the code that the ShinyGLiM
app shows, into the .R file you've been using for the `games' data. Hopefully
you can create the same plots that the ShinyGLiM app shows you :)

Remember again: typing code really is better than copy-pasting, as it helps the R language stick in your
brain better.

The first part of this worksheet contains \emph{Questions} and \emph{Tasks} in \emph{italics}: note
down the answers you get, and we'll go through them at the end of the session.

The second part of this worksheet continues our adventures with our real data sets.
Having worked out how we need to subset the data, and looked at the distribution(s)
of the variable(s) we're working with, we're now going to see how those variables
relate to one another.\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{resources}{%
\section{RESOURCES}\label{resources}}

Books:

\begin{itemize}
\tightlist
\item
  Beckerman, Childs \& Petchey (2017) \emph{Getting started with R, an
  introduction for Biologists}, 2nd ed.~pp 79 - 92, Chapter 4, ``Visualizing
  your data''. Extra delectable content on pimping your plots on pp 203-218,
  Chapter 8, ``Pimping your plots: scales and themes in \texttt{ggplot2}''.
  ~
\end{itemize}

Cheatsheets:

\begin{itemize}
\tightlist
\item
  ggplot2 cheatsheet - see Resources section on blackboard or
  download \href{https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf}{here}
  ~
\end{itemize}

Web links:

\begin{itemize}
\item
  \href{https://ggplot2.tidyverse.org/}{gpglot2} by RStudio\\
  \hspace*{0.333em}
\item
  \href{https://iainmstott.shinyapps.io/ShinyGLiM}{\textbf{ShinyGLiM}}\\
  ~\\
\end{itemize}

\hypertarget{packages}{%
\section{PACKAGES}\label{packages}}

You'll need to load the right packages every time you complete worksheets. In
this session, we will be working with:

\begin{itemize}
\tightlist
\item
  \texttt{readr}, which helps load in data
\item
  \texttt{dplyr}, which is our data subsetting and manipulation friend
\item
  \texttt{ggplot2}, which makes pretty pretty data visualisations.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(readr)}
\KeywordTok{library}\NormalTok{(dplyr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'dplyr' was built under R version 3.6.1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(ggplot2)}
\end{Highlighting}
\end{Shaded}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{plotting-multiple-variables}{%
\section{PLOTTING MULTIPLE VARIABLES}\label{plotting-multiple-variables}}

Of course as scientists, what we really want to know is how a variable, let's
call it the \emph{dependent variable}, the \emph{response variable}, the \emph{y variable} is
affected by another variable, which we could call the \emph{independent variable}, the
\emph{explanatory variable}, the \emph{x variable}.

In fact, those things are what we do call these variables, and there are more
terms besides those. Different fields and different people like to use different
terms. We're generally going to use the terms \emph{dependent} and \emph{independent},
which generally refer to the \emph{y} and \emph{x} variables respectively. But
some points to consider are:

\begin{itemize}
\tightlist
\item
  does the dependent variable depend on the independent variable?
\item
  is the independent variable in fact independent?
\item
  does the response variable actually respond to the explanatory variable? If
  it doesn't, is the explanatory variable really explanatory?
\item
  do we plot the dependent variable on the y axis and the independent
  variable on the x axis?
\end{itemize}

\emph{Question: For each of the above questions, would you answer yes, or no?}\\
~\\

In this session, we're going to reacquaint ourselves with the
\href{https://ggplot2.tidyverse.org/}{\texttt{ggplot2}} package. This time we'll be seeing
how variables relate to one another, and whether some variables may perhaps
be influencing others. We'll be learning:

\begin{itemize}
\tightlist
\item
  another reinforcement of data-handling skills
\item
  more about the grammar of graphics
\item
  how plot two continuous variables against one another

  \begin{itemize}
  \tightlist
  \item
    scatterplots using \texttt{geom\_point()}
  \end{itemize}
\item
  how to plot a categorical independent variable against a continuous dependent variable

  \begin{itemize}
  \tightlist
  \item
    box plots using \texttt{geom\_boxplot()}
  \item
    violin plots using \texttt{geom\_violin()}
  \item
    bar plots using \texttt{geom\_bar()}
  \end{itemize}
\end{itemize}

We'll also learn a little more about customising plots.\\
~\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{part-1}{%
\section{PART 1}\label{part-1}}

\hypertarget{user-guide}{%
\section{USER GUIDE}\label{user-guide}}

Reacquaint yourself with the USER GUIDE, as it may be able to answer some of
your questions!\\
~\\

\hypertarget{subsetting-data}{%
\section{SUBSETTING DATA}\label{subsetting-data}}

For this exercise, our dependent variable is going to be the \texttt{ffold} variable.

\emph{Question: what statistical distribution does the \texttt{ffold} variable follow?}\\
~\\

Our independent variables are going to be the \texttt{pballs} variable and the
\texttt{ruler} variable (but we'll also see how other categorical variables impact
a person's ability to forward fold). Our hypothesis is that people who have
quick reactions and good aim must be sporty, and therefore be flexible.

Because we're working with the \texttt{ffold} variable, we might want to cut out
one group who didn't have that measured (group 5). That means we only want the first
20 rows of data.

\emph{Question: pick the correct line of code to subset the data to the first 20 rows.}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# a)}
\NormalTok{data }\OperatorTok{%>%}\StringTok{ }\KeywordTok{rows}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{20}\NormalTok{))}

\CommentTok{# b)}
\NormalTok{data }\OperatorTok{%>%}\StringTok{ }\KeywordTok{slice}\NormalTok{(}\KeywordTok{seq}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{20}\NormalTok{, }\DecValTok{1}\NormalTok{))}

\CommentTok{# c)}
\NormalTok{data }\OperatorTok{%>%}\StringTok{ }\KeywordTok{select}\NormalTok{(rows }\OperatorTok{<=}\StringTok{ }\DecValTok{20}\NormalTok{)}

\CommentTok{# d)}
\NormalTok{data }\OperatorTok{%>%}\StringTok{ }\KeywordTok{mutate}\NormalTok{(}\KeywordTok{rows}\NormalTok{(}\DecValTok{1}\OperatorTok{:}\DecValTok{20}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

You can now use the app to check whether you were right by going to the
DATA page, changing the row numbers slider and checking the CODE tab
(the code may not be exactly the same as above, but hopefully you can see which
function to use and that the two different lines of code will have the same result).\\
~\\

\hypertarget{data-visualisation-two-variables}{%
\section{DATA VISUALISATION (TWO VARIABLES)}\label{data-visualisation-two-variables}}

Now that we've subset the data, we can head right on to the DATA VISUALISATION
(TWO VARIABLES) page. Choose \texttt{ffold} as your ``dependent (y) variable''. Note that:

\begin{itemize}
\tightlist
\item
  currently, the x variable is the first variable in the data, which should be
  \texttt{person}.
\item
  the ``Plot type'' is set to ``points'' (scatter plot).
\end{itemize}

\texttt{person} is a categorical variable, but as you can see, it's still possible to
plot a scatter plot anyway.

\emph{Question: in this plot, what does each point represent?}\\
~\\

We'd normally use something different like a box plot to plot a continuous
dependent variable against a categorical x variable. Try selecting box plot from
the ``Plot type'' list.

\emph{Question: the box plot should just have a single horizontal line for each
person. Why is this?}\\
~\\

\hypertarget{scatter-points-plots}{%
\subsection{SCATTER (POINTS) PLOTS}\label{scatter-points-plots}}

We're interested, in fact, in the \texttt{pballs} and \texttt{ffold} variables. Choose
\texttt{pballs} as the independent (x) variable. You should end up with a graph something
like this:\\
~\\

\includegraphics{DSftLS_book_files/figure-latex/unnamed-chunk-35-1.pdf}

Thinking about our hypothesis that
better aim will mean better flexibility\ldots{}

\emph{Questions: what can we say about this graph, in terms of\ldots{}}

\begin{itemize}
\tightlist
\item
  \emph{what is the trend?}
\item
  \emph{does the trend support our hypothesis?}
\item
  \emph{are there any potential outliers or points with high influence over the trend?}\\
  ~\\
\end{itemize}

OK, so this is a pretty beautiful graph, I think you'll agree.

\emph{Question: do you agree?}\\
~\\

We can easily make this graph ourselves. Click on the CODE tab and you'll see a
short chunk of code that makes this graph. If you're coding alongside this worksheet,
copy this over and see if you can recreate the plot.

There are various bits to this code, and because code is quite literal, you can
probably guess where to change things to make this plot look a little different.
Here's a relatively big task: using your educated intuition\ldots{}

\emph{Task: copy this chunk of code and edit it so that:}

\begin{itemize}
\tightlist
\item
  \emph{The y axis has limits of -20 and 30}
\item
  \emph{The points are ``slategrey'' colour}
\item
  \emph{The x axis has a label saying ``Paper balls''}
\item
  \emph{The y axis has a label saying ``Forward fold''}\\
  ~\\
\end{itemize}

Now change those variables using the controls in the DATA VISUALISATION
(TWO VARIABLES) page to see whether you got it right.

Hint: you don't always have to include everything. We could exclude the
\texttt{ylim()}, \texttt{ylab()}, \texttt{xlab()} and theme functions, and eliminate the arguments
from the \texttt{geom\_point()} function. We'd still get a graph, just plotted with all the
default arguments and values.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# initialise}
\NormalTok{plot <-}\StringTok{ }\KeywordTok{ggplot}\NormalTok{(dataSubset, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =}\NormalTok{ pballs, }\DataTypeTok{y =}\NormalTok{ ffold)) }\OperatorTok{+}
\StringTok{    }\CommentTok{# plot a histogram (geom)}
\StringTok{    }\KeywordTok{geom_point}\NormalTok{()}

\NormalTok{plot}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Removed 1 rows containing missing values (geom_point).
\end{verbatim}

\includegraphics{DSftLS_book_files/figure-latex/unnamed-chunk-37-1.pdf}\\

\emph{Question: What do you think this warning message could mean? (Hint: look
at the data and pay attention to the \texttt{role} and any missing data in \texttt{ffold}).}\\
~\\

We've made some conclusions about the link between a person's ability to
aim paper balls at a wastepaper basket, and their ability to fold themselves in half.
Now we want to know whether someone's reaction time influences their ability
to fold themselves in half. If you change the ``independent (x) variable'' to
\texttt{ruler} then you should get a plot something like this:\\
~\\
\includegraphics{DSftLS_book_files/figure-latex/unnamed-chunk-38-1.pdf}\\

I changed the colour of the points, for a bit of a change. If you're coding
alongside reading, you don't have to change the colour
(or please feel free to pick any colour you like!)

Same \emph{Questions} here:

\begin{itemize}
\tightlist
\item
  \emph{what is the trend?}
\item
  \emph{does the trend support our hypothesis?}
\item
  \emph{are there any potential outliers or points with high influence over the trend?}\\
  ~\\
\end{itemize}

Although these are the variables we're interested in, there are other things that
might affect the dependent variable, and they're worth checking out. Change the
independent (x) variable to gender.

\emph{Question: Which grammar of graphics ``layer'' will this change in x variable affect?}

\begin{itemize}
\tightlist
\item
  \emph{geometries}
\item
  \emph{data}
\item
  \emph{theme}
\item
  \emph{aesthetics}
\item
  \emph{facets}\\
\end{itemize}

Your graph should look something like this (but with a different colour):\\
~\\
\includegraphics{DSftLS_book_files/figure-latex/unnamed-chunk-39-1.pdf}\\

Points are not really a helpful way to visualise data in groups, although
we can sometimes tell something from them.

\emph{Question: which gender has the larger variance in \texttt{ffold}?}

\begin{itemize}
\tightlist
\item
  \emph{female}
\item
  \emph{male}\\
  ~\\
\end{itemize}

\hypertarget{box-plots}{%
\subsection{BOX PLOTS}\label{box-plots}}

A more helpful way to look at these two variables is using a box plot:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plot <-}\StringTok{ }\KeywordTok{ggplot}\NormalTok{(dataSubset, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =}\NormalTok{ gender, }\DataTypeTok{y =}\NormalTok{ ffold)) }\OperatorTok{+}
\StringTok{    }\KeywordTok{geom_boxplot}\NormalTok{(}\DataTypeTok{color =} \StringTok{'goldenrod'}\NormalTok{, }\DataTypeTok{fill =} \StringTok{'papayawhip'}\NormalTok{) }\OperatorTok{+}\StringTok{ }
\StringTok{        }\CommentTok{# some colour names are ridiculous...}
\StringTok{    }\KeywordTok{ylim}\NormalTok{(}\OperatorTok{-}\DecValTok{15}\NormalTok{, }\DecValTok{28}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{ylab}\NormalTok{(}\StringTok{'Forward fold'}\NormalTok{) }\OperatorTok{+}\StringTok{ }\KeywordTok{xlab}\NormalTok{(}\StringTok{'Gender'}\NormalTok{) }\OperatorTok{+}
\StringTok{    }\KeywordTok{theme_minimal}\NormalTok{()}

\NormalTok{plot}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Removed 1 rows containing non-finite values (stat_boxplot).
\end{verbatim}

\includegraphics{DSftLS_book_files/figure-latex/unnamed-chunk-40-1.pdf}\\

Our \texttt{fill} argument has actually come into some use now! (There are some
points that have an outline and a fill: if you want to give it a try then try
changing the \texttt{shape} argument in one of the earlier plots that use
\texttt{geom\_point()}). Some of the R colours have crazy names. You can also specify
colours using \href{https://www.w3schools.com/colors/colors_picker.asp}{hex values}
if you like.

The box plot shows us a little about the distribution of our data. If the
quartiles are close to the median, then the distribution has a low variance.

\emph{Question: can a box plot also tell us something about the skewness? If so, how?}\\
~\\

\hypertarget{violin-plots}{%
\subsection{VIOLIN PLOTS}\label{violin-plots}}

Box plots are one of the oldest and most commonly used methods of visualising a
continuous versus categorical variable, but \texttt{ggplot2} offers up another, newer
one in the form of a ``violin'' plot. Choose ``violin'' as the plot type.

\emph{Question: take a guess at what the \texttt{geom} function will be to plot a violin
plot (i.e.~points is \texttt{geom\_point()}, boxplot is \texttt{geom\_boxplot()})\ldots{}}

Remembering back to the density plots of last week, a violin plot is essentially
a density plot for different groups. Just as with other density plots, it has its
drawbacks: you can see the whole distribution, but it's not possible
to discern the moments of the distribution easily.

It does seem that there are differences between the genders in their forward-folding
abilities. Perhaps not in the mean value, but in the variance at least. We may
want to visualise three variables together: \texttt{pballs} or \texttt{ruler} as the independent
variable, \texttt{ffold} as the depdendent variable, and then an extra grouping of
\texttt{gender}. Think back to earlier plots with \texttt{pballs} or \texttt{ruler} on the x axis and
\texttt{ffold} on the y axis.

\emph{Question: How could this plot be changed to also show the \texttt{gender} groups?}\\
~\\

\hypertarget{bar-plots}{%
\subsection{BAR PLOTS}\label{bar-plots}}

You may be familiar with another means of visualising categorical x continuous
data, called a ``barplot'' (the fourth option). Please feel free to use bar plots to
explore the data, but be aware that there are distinct disadvantages to
using bar plots, and many researchers are moving away from them nowadays. They
describe very little in terms of the data variance or skewness, because they are just
bars showing the mean for each group. Additionally, because they require the y-axis to
include 0, it can be difficult to see important effects in some data sets
where values of the y variable are large, but variance, and differences between
groups, are very small.\\
~\\

\hypertarget{experimental-design-nonindependence-and-bias}{%
\subsection{EXPERIMENTAL DESIGN, NONINDEPENDENCE AND BIAS}\label{experimental-design-nonindependence-and-bias}}

An important thing that we should start thinking about now is nonindependence and
experimental design. In statistical analyses, each observation (data point) is usually
assumed to be \emph{\textbf{independent}}. This means that there is no way to predict any one
data point from any of the other data points. \textbf{NOTE}: there is
the concept of an independent \emph{variable} (the x variable), which is different
to the concept of independent \emph{data} (data points not being dependent on one
another). I know it's confusing, I'm sorry, I don't make the rules\ldots{}

\emph{\textbf{Nonindependent}} data is when we \emph{can} predict any one data point from
another one. This is usually due to some way in which the data are collected,
including spatial and temporal replication. In the `games' data, there is
nonindependence: each \texttt{group} has been tested at a different time, and/or
working together and not with any of the other groups. \texttt{G1} is the guys; \texttt{G2} is the ladies,
\texttt{G3} is some of your lecturers with whom I share an office,
\texttt{G4} is my family, and further groups are incoming. Each group shares
characteristics, may have taken a different approach to playing the games
(note that there are lots of things I \emph{didn't} tell you about how to play the games),
have different ages or different variations in ages, and were tested at different
times of the day. All of these things could affect the data: if tested late
in the day, reactions could be slower; if tested in the morning when muscles
are stiffer, people could be worse at the forward
fold than other groups tested in the evening; different groups may have
thought of different ways to do each task\ldots{} What this means is that data
within each group may be likely to be more similar to one another than to
other data in other groups.

\emph{Task: plot \texttt{ffold} as the dependent variable and \texttt{group} as the independent
variable. Is there any evidence that data points within groups might
actually be similar to one another in any way?}\\
~\\

Think also about the ``experimental design'' in the way the data was collected.
There may be biases if one data point was collected in a slightly different
way to another, when they should actually have been collected in exactly the
same way.

\emph{Task: we'll have a discussion later about nonindependence and biases in the
`games' data. Think and write down possible ideas about where nonindependence
and biases appear in the data.}\\
~\\

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{part-2}{%
\section{PART 2}\label{part-2}}

We're back to working with your data! Use the same .R file as you used for
single variable visualisation, and we will carry on from where we left off.
If you've still got some work to do on last week's tasks, please go for it and let
me know if you need a hand.

By the end of last week's tasks, you should have:

\begin{itemize}
\tightlist
\item
  subset the data to remove any rows you don't need
\item
  Added any extra variables (e.g.~log-transformations), if you need them
\item
  Plot the distributions of numeric variables to assess their bounds,
\item
  symmetry, skewness, and other characteristics (if any).\\
\end{itemize}

\emph{Tasks:}

\begin{itemize}
\tightlist
\item
  \emph{according to your hypothesis, identify which variable is your dependent variable.}
\item
  \emph{according to your hypothesis, identify which variable is your key independent variable.}
\item
  \emph{identify any further grouping (categorical) variables which may influence the dependent variable.}
\item
  \emph{in R, using \texttt{ggplot2}, create the most appropriate plots to show:}

  \begin{itemize}
  \tightlist
  \item
    \emph{what relationship (if any) there is between the dependent and independent variable}
  \item
    \emph{whether and how any other grouping (categorical) variables affect the dependent variable}
  \end{itemize}
\end{itemize}

Pay attention to trends in the data, spread of the data, potential outliers,
differences in the mean values and distributions within and between different groups,
and come up with a preliminary statement on whether the plots seems to initially
support the hypothesis, and whether any other variables may need to be taken into account.\\
~\\

  \bibliography{book.bib,packages.bib}

\end{document}
